<a name="top" />

**Last SDK Version: 3.5.2**

This document describes the basic procedure for integrating StartApp In-App Ads into your Unity applications for iOS. <br></br>
After this simple integration process, StartApp In-App Ads enables you to reap the benefits of StartApp's In-App monetization products, which maximize the revenue generated by your application. All this profit-making is achieved with minimal effort and minimal interference with your users’ experience.

<img src="./unity_iOS/images/ios-cube.png" width="600px" />


> **NOTES:**
> - To build your app with StartApp SDK you must have XCode 4.4.1+
> - The code samples in this document can be copy/pasted into your source code
> - When submitting your application to the App Store,do not forget to update your ["IDFA Settings"](#IDFA) 
> - If you have any questions, contact us via [support@startapp.com](mailto:support@startapp.com)

<br></br>
<a name="step1" />

## Step 1, Adding the SDK package to your Unity project
In order to add StartApp SDK to your application please follow the following steps:

**1.** Unzip the SDK files to a temporary folder<br></br>
**2.** Import _StartAppiOSUnitySDK-x.x.x.unitypackage_ as a Custom Package (or drag and drop it to your "Assets" folder under the "Project" Window)

<img src="./unity_iOS/images/import_custom_package.png" />

**3.** Import all the package's items by pressing "All" and then "Import"
<img src="./unity_iOS/images/import_all.png" />

[Back to top](#top)


<br></br>
<a name="step2" />

## Step 2, Updating your StartApp data file
Update the StartAppDataiOS.txt_ (in the Assets/Resources folders) as follows:

**1.** Add your StartApp Account ID after ``developerId=``  
For example: ``developerId=103343523``   
**2.** Add your StartApp Application ID after ``applicationId=``  
For example: ``applicationId=204346543``   

You can find your Account and Application IDs in the [developers’ portal](https://portal.startapp.com/#/signin).<br></br>
After logging in, your account ID will be displayed at the top right-hand corner of the page:
<img src="./Android/images/accountId.png" />

To find your application ID, click on the "Apps and Sites" tab on the left pane and choose the relevant ID from your app list:<br></br>
<img src="./iOS/images/ios-appId.png" />

[Back to top](#top)  


<br></br>
<a name="orientation" />

## Step 3, Provide Your App's Orientation
Call the ``unityOrientation()`` method in the ``Start()`` method of your script, and pass your app's orientation:
```csharp
void Start () {
        #if UNITY_IPHONE
        StartAppWrapperiOS.unityOrientation(StartAppWrapperiOS.STAUnityOrientation.STAAutoRotation);
        #endif    
    }
```

Where ``unityOrientation()`` can get one of the following values:  
<img src="./iOS/images/V.png" hspace="15px" width="12px" /> STAUnityOrientation.STAPortrait (portrait only app)  
<img src="./iOS/images/V.png" hspace="15px" width="12px" /> STAUnityOrientation.STALandscape (landscape only app)  
<img src="./iOS/images/V.png" hspace="15px" width="12px" /> STAUnityOrientation.STAAutoRotation (app supports auto-rotation)  
  
[Back to top](#top)


<br></br>
<a name="step4" />

## Showing Interstitial Ads

You can choose to show an interstitial ad in several locations within your application.
This could be upon entering (onCreate), between stages, while waiting for an action and more.

Add the following code to the appropriate place or places in which you would like to show the ad:

**1.** Load the ad
```csharp
 void Start () {
        #if UNITY_IPHONE
        StartAppWrapperiOS.loadAd();
        #endif    
    }
```

**2.** Show the ad
```csharp
StartAppWrapperiOS.showAd();
```

You can show a specific type of interstitial ad, as well as getting callbacks events. For detailed instructions please refer to the [Advanced Usage](unity-iOS-advanced-usage#interstitial-customizations).

[Back to top](#top)


<a name="splash-ads" />

## Showing the Splash Ad
A Splash Ad is a full-page ad that is displayed immediately after the application is launched.
A Splash Ad first displays a full page splash screen that you define (as described below) followed by a full page ad.   

StartApp SDK provides two modes for displaying Splash screens:

**Splash Screen Mode**     |     **Description**
-------------------------- | -------------------
User-Defined Mode (default)    | Using your application's default splash image, with a loading animation
Template Mode                  | StartApp SDK provides a set of pre-defined templates in which you can place your own creatives, such as application name, logo and loading animation. for more details, please refer to the ["Advanced Manual"](unity-iOS-advanced-usage#CustomizingSplashScreen)

#### Adding the Splash Screen 
Simply call ``showSplashAd()`` in the ``Start()`` method of your script:
```csharp
void Start () {
        #if UNITY_IPHONE
        StartAppWrapperiOS.showSplashAd();  // show splash ad
        #endif    
    }
```

Please note that you should attach the script to an object which is being allocated upon application's launch (for example, "Main Camera").    

**If you wish to customize or use a different splash screen, please refer to the [Advanced Usage](unity-iOS-advanced-usage#CustomizingSplashScreen).**

[Back to top](#top)


<a name="return-ads" />

## Return Ads
The **Return Ad** is a new ad unit which is displayed once the user returns to your application after a certain period of time.  To minimize the intrusiveness, short time periods are ignored. For example, the Return Ad won't be displayed if the user leaves your application to take a short phone call before returning. 

Return ads are enabled and activated by default. If you want to disable this feature, simply call ``disableReturnAd()`` in your ``Start()`` method:
```csharp
void Start () {
        #if UNITY_IPHONE
        StartAppWrapperiOS.disableReturnAd();  // disable return ads
        #endif    
    }
```

Please note that you should attach the script to an object which is being allocated upon application's launch (for example, "Main Camera").    

[Back to top](#top)


<br></br>
<a name="step3" />

## Showing Banners
To add a banner to your application add the following code to your `Start()` method:

```csharp
void Start () {
        #if UNITY_IPHONE
        StartAppWrapperiOS.addBanner(StartAppWrapperiOS.BannerPosition.BOTTOM);
        #endif    
    }
```

**Parameters**

_BannerPosition_ - position of the banner. Can receive one of the following:
<br></br><img src="./iOS/images/V.png" hspace="15px" width="12px" /> StartAppWrapper.BannerPosition.BOTTOM
<br></br><img src="./iOS/images/V.png" hspace="15px" width="12px" /> StartAppWrapper.BannerPosition.TOP

You can change the banner position and size, as well as getting callbacks events. For detailed instructions please refer to the [Advanced Usage](unity-iOS-advanced-usage#banner-customizations).

[Back to top](#top)


<br></br>
<a name="step5" />

## Step 5, Build Your Unity Project

The first time you build your unity project with StartApp SDK, make sure to use "Build and Run" (instead of "Build"). Once completed, Unity will create and load an XCode project. You will notice a few errors. That's ok. Please follow the following steps to include additional necessary frameworks, then re-build your project.

1. Select your application project to bring up the project editor
2. Select your application target to bring up the target editor
3. Select the Build Phases tab and disclose the "Link Binary with Libraries" phase and click the plus button in that phase
4. Add the following frameworks:
<br></br><img src="./iOS/images/V.png" width="12px" />  _CoreTelephony.framework_ 
<br></br><img src="./iOS/images/V.png" width="12px" />  _StoreKit.framework_ 
<br></br><img src="./iOS/images/V.png" width="12px" />  _AdSupport.framework_ 
<br></br><img src="./iOS/images/V.png" width="12px" />  _libz.tbd_ 

<img src="./unity_iOS/images/frameworks.png" />

> **NOTE:** from now make sure to use the "Append" option (instead of "Replace") every time you "Build and Run" your project, so all the above changes will be kept.<br></br>
> <br></br> <img src="./unity_iOS/images/build_append.png" />

<a name="AdvancedUsage" />

## Advanced Usage
For advanced usage, please refer to the ["Advanced Usage"](unity-iOS-advanced-usage) section.

[Back to top](#top)

<a name="IDFA" />

## Updating your IDFA Settings
When submitting your application to the App Store you need to update its "Advertising Identifier (IDFA)" settings in order to comply with Apple advertising policy.

On the "Advertising Identifier" section: <br></br>
**1** Choose "Yes" on the right pane <br></br>
**2** Opt-in the "Serve advertisements within the app" checkbox <br></br>
**3** Opt-in the confirmation checkbox under "Limit Ad tracking setting in iOS"  <br></br>

[[/iOS/images/idfa.jpg]]

[Back to top](#top)